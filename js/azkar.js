// قائمة أذكار الصباح (النصوص الكاملة)
const morningAzkar = [
    {
        id: 1,
        text: "اللّهُ لاَ إِلَـهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ.",
        target: 1,
        info: "آية الكرسي - من قالها حين يصبح أجير من الجن حتى يمسي"
    },
    {
        id: 2,
        text: "قُلْ هُوَ ٱللَّهُ أَحَدٌ، ٱللَّهُ ٱلصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُن لَّهُۥ كُفُوًا أَحَدٌ.",
        target: 3,
        info: "سورة الإخلاص (3 مرات)"
    },
    {
        id: 3,
        text: "قُلْ أَعُوذُ بِرَبِّ ٱلْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ، وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِى ٱلْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ.",
        target: 3,
        info: "سورة الفلق (3 مرات)"
    },
    {
        id: 4,
        text: "قُلْ أَعُوذُ بِرَبِّ ٱلنَّاسِ، مَلِكِ ٱلنَّاسِ، إِلَٰهِ ٱلنَّاسِ، مِن شَرِّ ٱلْوَسْوَاسِ ٱلْخَنَّاسِ، ٱلَّذِى يُوَسْوِسُ فِى صُدُورِ ٱلنَّاسِ، مِنَ ٱلْجِنَّةِ وَٱلنَّاسِ.",
        target: 3,
        info: "سورة الناس (3 مرات)"
    },
    {
        id: 5,
        text: "أَصْـبَحْنا وَأَصْـبَحَ المُـلْكُ لله وَالحَمدُ لله ، لا إلهَ إلاّ اللّهُ وَحدَهُ لا شَريكَ لهُ، لهُ المُـلْكُ ولهُ الحَمْـد، وهُوَ على كلّ شَيءٍ قدير ، رَبِّ أسْـأَلُـكَ خَـيرَ ما في هـذا اليوم وَخَـيرَ ما بَعْـدَه ، وَأَعـوذُ بِكَ مِنْ شَـرِّ ما في هـذا اليوم وَشَرِّ ما بَعْـدَه، رَبِّ أَعـوذُ بِكَ مِنَ الْكَسَـلِ وَسـوءِ الْكِـبَر ، رَبِّ أَعـوذُ بِكَ مِنْ عَـذابٍ في النّـارِ وَعَـذابٍ في القَـبْر.",
        target: 1,
        info: "أذكار الصباح"
    },
    {
        id: 6,
        text: "اللّهُـمَّ بِكَ أَصْـبَحْنا وَبِكَ أَمْسَـينا ، وَبِكَ نَحْـيا وَبِكَ نَمُـوتُ وَإِلَـيْكَ النُّـشُور.",
        target: 1,
        info: ""
    },
    {
        id: 7,
        text: "اللّهُـمَّ أَنْتَ رَبِّـي لا إلهَ إلاّ أَنْتَ ، خَلَقْتَنـي وَأَنا عَبْـدُك ، وَأَنا عَلـى عَهْـدِكَ وَوَعْـدِكَ ما اسْتَـطَعْـت ، أَعـوذُ بِكَ مِنْ شَـرِّ ما صَنَـعْت ، أَبـوءُ لَـكَ بِنِعْـمَتِـكَ عَلَـيَّ وَأَبـوءُ بِذَنْـبي فَاغْفـِرْ لي فَإِنَّـهُ لا يَغْـفِرُ الذُّنـوبَ إِلاّ أَنْتَ.",
        target: 1,
        info: "سيد الاستغفار - من قاله موقناً به حين يصبح فمات من يومه دخل الجنة"
    },
    {
        id: 8,
        text: "اللّهُـمَّ إِنِّـي أَصْبَـحْتُ أُشْـهِدُك ، وَأُشْـهِدُ حَمَلَـةَ عَـرْشِـك ، وَمَلائِكَتِك ، وَجَمـيعَ خَلْـقِك ، أَنَّـكَ أَنْـتَ اللهُ لا إلهَ إلاّ أَنْـتَ وَحْـدَكَ لا شَريكَ لَـك ، وَأَنَّ ُ مُحَمّـداً عَبْـدُكَ وَرَسـولُـك.",
        target: 4,
        info: "من قالها 4 مرات أعتقه الله من النار"
    },
    {
        id: 9,
        text: "اللّهُـمَّ ما أَصْبَـَحَ بي مِـنْ نِعْـمَةٍ أَو بِأَحَـدٍ مِـنْ خَلْـقِك ، فَمِـنْكَ وَحْـدَكَ لا شريكَ لَـك ، فَلَـكَ الْحَمْـدُ وَلَـكَ الشُّكْـر.",
        target: 1,
        info: "من قالها حين يصبح أدى شكر يومه"
    },
    {
        id: 10,
        text: "اللّهُـمَّ عافِـني في بَدَنـي ، اللّهُـمَّ عافِـني في سَمْـعي ، اللّهُـمَّ عافِـني في بَصَـري ، لا إلهَ إلاّ أَنْـتَ. اللّهُـمَّ إِنِّـي أَعـوذُ بِكَ مِنَ الْكُـفر ، وَالفَـقْر ، وَأَعـوذُ بِكَ مِنْ عَذابِ القَـبْر ، لا إلهَ إلاّ أَنْـتَ.",
        target: 3,
        info: "(3 مرات)"
    },
    {
        id: 11,
        text: "حَسْبِـيَ اللّهُ لا إلهَ إلاّ هُوَ عَلَـيهِ تَوَكَّـلتُ وَهُوَ رَبُّ العَرْشِ العَظـيم.",
        target: 7,
        info: "من قالها 7 مرات كفاه الله ما أهمه"
    },
    {
        id: 12,
        text: "بِسـمِ اللهِ الذي لا يَضُـرُّ مَعَ اسمِـهِ شَيءٌ في الأرْضِ وَلا في السّمـاءِ وَهـوَ السّمـيعُ العَلـيم.",
        target: 3,
        info: "من قالها 3 مرات لم يضره شيء"
    },
    {
        id: 13,
        text: "رَضيـتُ بِاللهِ رَبَّـاً وَبِالإسْلامِ ديـناً وَبِمُحَـمَّدٍ صلى الله عليه وسلم نَبِيّـاً.",
        target: 3,
        info: "من قالها 3 مرات كان حقاً على الله أن يرضيه"
    },
    {
        id: 14,
        text: "يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ.",
        target: 1,
        info: ""
    },
    {
        id: 15,
        text: "أَصْبَـحْـنا وَأَصْبَـحْ المُـلكُ للهِ رَبِّ العـالَمـين ، اللّهُـمَّ إِنِّـي أسْـأَلُـكَ خَـيْرَ هـذا الـيَوْم ، فَـتْحَهُ ، وَنَصْـرَهُ ، وَنـورَهُ وَبَـرَكَتَـهُ ، وَهُـداهُ ، وَأَعـوذُ بِكَ مِنْ شَـرِّ ما فـيهِ وَشَـرِّ ما بَعْـدَه.",
        target: 1,
        info: ""
    },
    {
        id: 16,
        text: "أَصْبَـحْـنا عَلَى فِطْرَةِ الإسْلاَمِ، وَعَلَى كَلِمَةِ الإِخْلاَصِ، وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صلى الله عليه وسلم، وَعَلَى مِلَّةِ أَبِينَا إِبْرَاهِيمَ حَنِيفاً مُسْلِماً وَمَا كَانَ مِنَ الْمُشْرِكِينَ.",
        target: 1,
        info: ""
    },
    {
        id: 17,
        text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ.",
        target: 100,
        info: "100 مرة - حطت خطاياه وإن كانت مثل زبد البحر"
    },
    {
        id: 18,
        text: "لا إلهَ إلاّ اللّهُ وحْـدَهُ لا شَـريكَ لهُ، لهُ المُـلْكُ ولهُ الحَمْـد، وهُوَ على كُلّ شَيءٍ قَدير.",
        target: 10,
        info: "10 مرات أو 100 مرة"
    },
    {
        id: 19,
        text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ عَدَدَ خَلْـقِه ، وَرِضـا نَفْسِـه ، وَزِنَـةَ عَـرْشِـه ، وَمِـدادَ كَلِمـاتِـه.",
        target: 3,
        info: "(3 مرات)"
    },
    {
        id: 20,
        text: "اللّهُـمَّ إِنِّـي أَسْأَلُـكَ عِلْمـاً نافِعـاً ، وَرِزْقـاً طَيِّـباً ، وَعَمَـلاً مُتَقَبَّـلاً.",
        target: 1,
        info: "بعد السلام من صلاة الفجر"
    },
    {
        id: 21,
        text: "أَسْتَغْفِرُ اللهَ وَأَتُوبُ إِلَيْهِ.",
        target: 100,
        info: "100 مرة"
    },
    {
        id: 22,
        text: "اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ.",
        target: 10,
        info: "10 مرات"
    }
];

// دالة لتهيئة الصفحة
document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('azkar-container');
    if (!container) return;

    // تنظيف الحاوية
    container.innerHTML = '';

    // إنشاء البطاقات
    morningAzkar.forEach(dhikr => {
        const card = document.createElement('div');
        card.className = 'dhikr-card';
        card.id = `dhikr-${dhikr.id}`;

        card.innerHTML = `
            <div class="dhikr-text">${dhikr.text}</div>
            <div class="card-footer">
                <span class="dhikr-info">${dhikr.info || ''}</span>
                <button class="counter-btn" onclick="updateCounter(${dhikr.id}, ${dhikr.target})">
                    <span id="count-${dhikr.id}">0</span> / ${dhikr.target}
                    <i class="fas fa-hand-pointer"></i>
                </button>
            </div>
        `;
        
        container.appendChild(card);
    });
});

// دالة تحديث العداد
function updateCounter(id, target) {
    const countSpan = document.getElementById(`count-${id}`);
    const card = document.getElementById(`dhikr-${id}`);
    
    if (!countSpan || !card) return;
    
    let currentCount = parseInt(countSpan.innerText);
    
    // إذا وصل للهدف، لا تزيد أكثر (اختياري، لكن المستخدم طلب "يصل للعدد المطلوب")
    // سنسمح بالزيادة حتى الهدف فقط ثم نتوقف أو نظهر أنه تم
    if (currentCount < target) {
        currentCount++;
        countSpan.innerText = currentCount;
        
        // اهتزاز الهاتف
        if (navigator.vibrate) {
            navigator.vibrate(50); // اهتزاز خفيف لمدة 50ms
        }
        
        // التحقق من الانتهاء
        if (currentCount >= target) {
            card.classList.add('completed');
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100]); // اهتزاز مميز عند الانتهاء
            }
        }
    }
}
